Проект уже жуууууутко запутанный, так что я сейчас просто логично организовал код, перед тем, как продолжить.